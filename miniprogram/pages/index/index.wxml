<!-- 塔罗牌占卜主页面 -->
<swiper 
  class="swiper-container" 
  current="{{currentPage}}" 
  bindchange="onSwiperChange"
  style="height: 100vh;"
>
  <!-- 抽卡页面 -->
  <swiper-item>
    <view class="page-root">
      <view class="tarot-menu-container">
        <text class="tarot-title">22张大阿卡纳</text>
        <text class="tarot-hint">找一个安静的场所，默念心中的问题，点击上方菜单抽牌；再次点击可重抽</text>
        <view class="tarot-menu-buttons">
          <button 
            class="tarot-menu-button {{selectedSpread === 'one' ? 'active' : ''}}"
            bindtap="selectSpread"
            data-spread="one"
          >单张</button>
          <button 
            class="tarot-menu-button {{selectedSpread === 'three' ? 'active' : ''}}"
            bindtap="selectSpread"
            data-spread="three"
          >三张</button>
          <button 
            class="tarot-menu-button {{selectedSpread === 'five' ? 'active' : ''}}"
            bindtap="selectSpread"
            data-spread="five"
          >五张十字</button>
          <button 
            class="tarot-menu-button {{selectedSpread === 'celtic' ? 'active' : ''}}"
            bindtap="selectSpread"
            data-spread="celtic"
          >凯尔特十字</button>
        </view>
        </view>
      <canvas
        type="2d"
        id="tarotCanvas"
        class="tarot-canvas"
        bindtouchstart="onCanvasTouchStart"
        bindtouchmove="onCanvasTouchMove"
        bindtouchend="onCanvasTouchEnd"
      ></canvas>
      <!-- 提示文字：向左滑动看解析 -->
          <!-- 加载状态 -->
  <view class="loading-overlay" wx:if="{{isLoading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">{{loadingText}}</text>
  </view>
  
  <!-- 滑动提示 -->
  <view class="swipe-hint-overlay" wx:if="{{showSwipeHint}}">
    <text class="swipe-hint-text">← 向左滑动，看解析</text>
  </view>
    </view>
  </swiper-item>
  

  
  <!-- 第一个滑动页面 -->
  <swiper-item>
    <view class="analysis-page-wrapper">
      <view class="analysis-container">
        <view class="analysis-header">
          <text class="analysis-title">塔罗解析</text>
          <text class="swipe-hint-text-small">右滑返回 →</text>
        </view>
        <scroll-view 
          class="analysis-content" 
          scroll-y="{{true}}"
          show-scrollbar="{{true}}"
          enhanced="{{true}}"
          bounces="{{false}}"
          enable-back-to-top="{{false}}"
          style="height: {{scrollViewHeight}}rpx;"
        >
          <view class="analysis-text-wrapper">
            <text class="analysis-text">{{analysisText}}</text>
          </view>
        </scroll-view>
        <view class="analysis-buttons">
          <button class="restart-button" bindtap="restartTarot">重新抽牌</button>
          <button class="back-button" bindtap="goBackHome">返回首页</button>
        </view>
      </view>
    </view>
  </swiper-item>
</swiper>